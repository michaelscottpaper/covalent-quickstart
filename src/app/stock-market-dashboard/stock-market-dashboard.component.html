<div
  layout-gt-sm="row"
  tdMediaToggle="gt-xs"
  [mediaClasses]="['push-sm']"
>
  <div flex-gt-sm="60">
    <div layout-gt-xs="row">
      <div flex-gt-xs="100">
        <mat-card>
          <mat-card-title>Market Summary</mat-card-title>
          <mat-divider></mat-divider>
          <div class="stocks-chart push-top push-right-sm">
            <ngx-charts-line-chart
              [scheme]="colorScheme"
              [results]="stockData"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [legend]="showLegend"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="xAxisLabel"
              [yAxisTickFormatting]="axisDigits"
            >
            </ngx-charts-line-chart>
          </div>
          <mat-card-actions>
            <button
              mat-button
              color="accent"
              class="text-upper"
            >
              <span>View more details</span>
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
    <div layout-gt-xs="row">
      <div flex-gt-xs="33">
        <mat-card>
          <mat-card-content class="text-center">
            <div class="mat-headline push-bottom-none">
              Dow
            </div>
            <div>
              <div class="mat-subheading-2 push-bottom-none tc-green-500">
                26,552.45
                <mat-icon class="text-sm">arrow_upward</mat-icon>
              </div>
              <div class="mat-caption tc-green-500">+167.17 (+0.63%)</div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div flex-gt-xs="33">
        <mat-card>
          <mat-card-content class="text-center">
            <div class="mat-headline push-bottom-none">
              NASDAQ
            </div>
            <div>
              <div class="mat-subheading-2 push-bottom-none tc-green-500">
                8,552.45
                <mat-icon class="text-sm">arrow_upward</mat-icon>
              </div>
              <div class="mat-caption tc-green-500">+127.17 (+0.73%)</div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div flex-gt-xs="33">
        <mat-card>
          <mat-card-content class="text-center">
            <div class="mat-headline push-bottom-none">
              S&P 500
            </div>
            <div>
              <div class="mat-subheading-2 push-bottom-none tc-red-500">
                2,552.45
                <mat-icon class="text-sm">arrow_downward</mat-icon>
              </div>
              <div class="mat-caption tc-red-500">-167.17 (-0.90%)</div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
  <div flex-gt-sm="40">
    <mat-card class="push-top">
      <mat-card-title>Latest stories</mat-card-title>
      <mat-divider></mat-divider>
      <mat-nav-list class="will-load favorite-list">
        <ng-template tdLoading="stories.load">
          <ng-template
            let-item
            let-last="last"
            ngFor
            [ngForOf]="stories"
          >
            <mat-list-item
              layout-align="row"
              [routerLink]="['/product']"
            >
              <img
                matListAvatar
                src="/assets/stock-market.jpg"
                class="story-image"
              >
              <h3 matLine> {{item.title}} </h3>
              <p matLine> {{item.timestamp | timeAgo }} </p>
            </mat-list-item>
            <mat-divider
              *ngIf="!last"
              [inset]="true"
            ></mat-divider>
          </ng-template>
        </ng-template>
      </mat-nav-list>
      <mat-divider></mat-divider>
      <mat-card-actions>
        <a
          mat-button
          color="accent"
          class="text-upper"
          [routerLink]="['/']"
        >
          <span>View more stories</span>
        </a>
      </mat-card-actions>
    </mat-card>

    <mat-card class="push-top">
      <mat-card-title>Cryptocurrencies</mat-card-title>
      <mat-divider></mat-divider>
      <mat-nav-list class="will-load ">
        <ng-template tdLoading="crypto.load">
          <!--- TODO: Replace with td-table -->
          <table
            mat-table
            class="table"
            [dataSource]="crypto"
          >
            <tr
              mat-header-row
              *matHeaderRowDef="displayedColumns"
            >
            </tr>
            <tr
              mat-row
              *matRowDef="let row; columns: displayedColumns;"
            >
            </tr>
            <ng-container matColumnDef="symbol">
              <th
                mat-header-cell
                *matHeaderCellDef
              >
                Symbol
              </th>
              <td
                mat-cell
                *matCellDef="let element"
              >
                {{element.symbol}}
              </td>
            </ng-container>

            <ng-container matColumnDef="last_price">
              <th
                mat-header-cell
                *matHeaderCellDef
              >
                Last price
              </th>
              <td
                mat-cell
                *matCellDef="let element"
              >
                {{element.last_price}}
              </td>
            </ng-container>

            <ng-container matColumnDef="change">
              <th
                mat-header-cell
                *matHeaderCellDef
              >
                Change
              </th>
              <td
                mat-cell
                *matCellDef="let element"
              >
                {{element.change}}
              </td>
            </ng-container>

            <ng-container matColumnDef="change_percent">
              <th
                mat-header-cell
                *matHeaderCellDef
              >
                % Change
              </th>
              <td
                mat-cell
                *matCellDef="let element"
              >
                {{element.change_percent}}
              </td>
            </ng-container>


          </table>
        </ng-template>
      </mat-nav-list>
      <mat-divider></mat-divider>
      <mat-card-actions>
        <a
          mat-button
          color="accent"
          class="text-upper"
          [routerLink]="['/']"
        >
          <span>View More</span>
        </a>
      </mat-card-actions>
    </mat-card>
  </div>

  <a
    mat-fab
    color="accent"
    class="mat-fab-bottom-right fixed z-3"
    [routerLink]="['/add-story']"
    matTooltip="Info about the action"
  >
    <mat-icon>add</mat-icon>
  </a>

</div>
